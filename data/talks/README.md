# Speaking Data Sources

This directory contains speaking data from multiple sources that are merged into the final `speakingData.json`.

## Files

### `mvp-contributions.json` ‚úÖ Committed
**Source**: MVP Portal activity export + ChatGPT enhanced extraction  
**Generated by**: `.sandbox/one-time-migrations/merge-chatgpt-data.mjs` (ChatGPT-enhanced)

Sanitized snapshot of 33 speaking contributions from Microsoft MVP program data (2021-2025).

**Features**:
- ‚úÖ **Safe to commit** - All sensitive data removed (GDPR deletions filtered)
- Extracted from private MVP data, but contains only public-safe information
- Only speaking-related activities included
- Includes activity type, technology focus, reach data
- Sorted by date (newest first)

**Structure**:
```json
{
  "source": "MVP Account Privacy Data",
  "extractedDate": "2024-11-19T...",
  "totalActivities": 50,
  "activities": [
    {
      "title": "Talk Title",
      "description": "...",
      "url": "https://...",
      "dateCreated": "2024-11-15",
      "technologyFocusArea": "Azure AI Foundry",
      "activityType": "Speaker/Presenter at Third-party event",
      "targetAudience": ["Developer"],
      "isHighImpact": true,
      "annualReach": 100
    }
  ]
}
```

### `jkdev-legacy.json` ‚úÖ Committed
**Source**: Complete extraction from https://jkdev.me/speaking/ (60 talks, 60 events)  
**Generated by**: `.sandbox/one-time-migrations/merge-chatgpt-data.mjs` (ChatGPT-enhanced extraction)

**Complete historical snapshot** of ALL talks from 2010-2020 extracted via ChatGPT analysis.

**Features**:
- ‚úÖ **Safe to commit** - Contains only public information
- Complete data from 2010-2020 (60 unique talks with 60 total events)
- Includes talks from: NDC, DDD, Global AI events, user groups, NTK Slovenia, etc.
- ChatGPT-enhanced extraction from HTML + structured data analysis
- Full metadata where available (videos, event URLs, dates, tags)
- Manually update by editing this JSON file directly

**Structure**:
```json
{
  "source": "jkdev.me/speaking (legacy)",
  "extractedDate": "2024-11-19T...",
  "totalTalks": 10,
  "talks": [
    {
      "title": "Common mistakes in EF Core",
      "description": "...",
      "events": [
        {
          "eventName": "NDC London 2024",
          "location": "London, United Kingdom",
          "date": "2024-01-29",
          "url": "https://ndclondon.com/",
          "status": "past"
        }
      ],
      "videoUrl": "https://youtube.com/...",
      "conferenceUrl": "https://...",
      "tags": ["EF Core", ".NET"]
    }
  ]
}
```

### `sessionize.json` ‚ö†Ô∏è Gitignored
**Source**: Sessionize API  
**Generated by**: `npm run speaking:fetch`

Live data from Sessionize speaker profile.

**Features**:
- ‚ö†Ô∏è **Not committed** - Regenerated on demand or by GitHub Actions
- Automatically fetched from API
- Includes upcoming talks
- Updated on GitHub Actions schedule

**Structure**:
```json
{
  "source": "Sessionize API",
  "fetchedDate": "2024-11-19T...",
  "totalTalks": 15,
  "talks": [
    {
      "id": "sessionize-123",
      "title": "Talk from Sessionize",
      "description": "...",
      "type": "talk",
      "groupName": null,
      "events": [...],
      "tags": [...],
      "videoUrl": null,
      "slidesUrl": null,
      "githubUrl": null,
      "conferenceUrl": null
    }
  ]
}
```

### `manual-talks.json` ‚úÖ Committed
**Source**: Hand-authored local entries  
**Use case**: Add upcoming/community talks that are not available in Sessionize yet

**Features**:
- ‚úÖ **Committed to git** - Intentional source-of-truth for local announcements
- Merged with Sessionize + legacy + MVP data
- Ideal for user groups, meetup talks, and draft conference entries

## What Gets Committed?

‚úÖ **Committed to Git:**
- `mvp-contributions.json` - Sanitized MVP snapshot (no sensitive data)
- `jkdev-legacy.json` - Public legacy talks
- `manual-talks.json` - Manually curated entries
- `README.md` - This documentation

‚ö†Ô∏è **Gitignored (regenerated):**
- `sessionize.json` - Fetched from API on demand

This approach ensures:
1. **No sensitive data in git** - MVP source data (`.private-data/`) never committed
2. **Reproducible builds** - Snapshots can regenerate final data anytime
3. **GitHub Actions friendly** - Works without access to private files

## Workflow

1. **Extract MVP data** (optional, requires `.private-data/`)
   ```bash
   npm run speaking:extract-mvp      # MVP data ‚Üí mvp-contributions.json
   ```

2. **Fetch live Sessionize data**
   ```bash
   npm run speaking:fetch            # Sessionize API ‚Üí sessionize.json
   ```

3. **Merge** static snapshots + live data
   ```bash
   npm run speaking:merge
   ```
   - Reads static snapshots: `mvp-contributions.json`, `jkdev-legacy.json`, `manual-talks.json`
   - Reads live data: `sessionize.json` (if exists)
   - Detects duplicates by title similarity
   - Merges events and URLs
   - Outputs to `data/speakingData.json`

4. **Build** everything in one command
   ```bash
   npm run speaking:build
   # Runs: extract-mvp ‚Üí fetch ‚Üí merge
   ```

## Notes

- ‚úÖ **`mvp-contributions.json` and `jkdev-legacy.json` are committed** to git as sanitized snapshots
- ‚ö†Ô∏è **`sessionize.json` is gitignored** - regenerated by scripts/GitHub Actions
- üìÅ **`.private-data/`** is never committed and contains sensitive source data
- üîÑ Final output is `data/speakingData.json` (also committed)

## Adding a New Source

1. Create extraction script: `scripts/extract-[source].mjs`
2. Save to: `data/talks/[source].json`
3. Add npm script: `"speaking:extract-[source]": "node scripts/extract-[source].mjs"`
4. Update `merge-speaking-data-v2.mjs` to read new file
5. Decide if file should be committed or gitignored
6. Update `.gitignore` if needed
7. Update GitHub Actions workflow

## Troubleshooting

**MVP extraction fails:**
- Ensure `.private-data/MVP Account Privacy Data.json` exists
- File should be in project root's `.private-data/` directory
- This file is never committed (in `.gitignore`)

**Sessionize fetch fails:**
- Check if Sessionize profile is public
- Verify API endpoint in `fetch-sessionize-data.mjs`
- API might be rate-limited or unavailable

**Legacy talks outdated:**
- Manually edit `data/talks/jkdev-legacy.json` directly
- Run `npm run speaking:merge` to regenerate `speakingData.json`
- Commit both files

**Need to regenerate snapshots:**
```bash
# Regenerate MVP snapshot from source data
npm run speaking:extract-mvp    # Requires .private-data/

# Commit updated snapshot
git add data/talks/mvp-contributions.json
git commit -m "Update MVP speaking data snapshot"

# For legacy data, edit data/talks/jkdev-legacy.json directly
```
